var ProfilerProHTTP={headers:{},setRequestHeader:function(a,b){ProfilerProHTTP.headers[a]=b},xhr:function(){if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest()}var a=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];var d;for(var b=0;b<a.length;b++){try{d=new ActiveXObject(a[b]);break}catch(c){}}return d},send:function(b,h,g,e,c){if(c===undefined){c=true}var f=ProfilerProHTTP.xhr();f.open(g,b,c);f.onreadystatechange=function(){if(f.readyState==4){h(f.responseText)}};if(g=="POST"){f.setRequestHeader("Content-type","application/x-www-form-urlencoded")}f.setRequestHeader("X-REQUESTED-WITH","XMLHttpRequest");for(var a in ProfilerProHTTP.headers){var d=ProfilerProHTTP.headers[a];f.setRequestHeader(a,d)}f.send(e);ProfilerProHTTP.headers=new Array()},buildQuery:function(c){var b=[];for(var a in c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c[a]))}return b},get:function(a,d,e,b){var c=ProfilerProHTTP.buildQuery(d);ProfilerProHTTP.send(a+(c.length?"?"+c.join("&"):""),e,"GET",null,b)},post:function(a,d,e,b){var c=ProfilerProHTTP.buildQuery(d);ProfilerProHTTP.send(a,e,"POST",c.join("&"),b)}};var ProfilerPro={events:{},requestMethod:"GET",elapsedTime:0,urlSegmentStr:"",numSends:0,start:function(b,g){if(typeof g=="undefined"){g=7}var f=+new Date();var a=ProfilerPro.nameFormat(b);var c={name:b,pwname:a,event_type:g,start:f,stop:0,time:0};if(typeof ProfilerPro.events[b]!="undefined"){var d=ProfilerPro.events[b];if(d.time>0){c.time=d.time}}ProfilerPro.events[a]=c;return c},stop:function(b,c){var a="";if(typeof c=="undefined"){var c=true}if(typeof b!="object"){a=ProfilerPro.nameFormat(b);b=ProfilerPro.events[a]}else{a=b.pwname}if(typeof b=="undefined"){console.log("Unknown event provided to ProfilerPro.stop()")}else{b.stop=+new Date();var d=b.stop-b.start;b.time+=d/1000;ProfilerPro.events[a]=b}if(c&&ProfilerPro.numSends>0){ProfilerPro.send()}return b},send:function(){ProfilerPro.numSends++;var e={pwpp:"save_events",method:ProfilerPro.requestMethod};var b=0;var c={};for(var a in ProfilerPro.events){var d=ProfilerPro.events[a];if(d.stop===0){c[a]=d}else{e[a+"_name"]=d.name;e[a+"_type"]=d.event_type;e[a+"_time"]=d.time;b++}}ProfilerPro.events=c;if(b){ProfilerProHTTP.setRequestHeader("X-PWPP","save_events");ProfilerProHTTP.get(".",e,function(g){b=0;for(var f in ProfilerPro.events){if(ProfilerPro.events[f].stop>0){b++}}if(b){ProfilerPro.send()}})}},nameFormat:function(a){return a.replace(/[^-a-zA-Z0-9]/g,"-")},init:function(b,a){ProfilerPro.elapsedTime=b;ProfilerPro.urlSegmentStr=a;var d=ProfilerPro.start("ready",6);var c=ProfilerPro.start("load",6);document.addEventListener("DOMContentLoaded",function(e){d=ProfilerPro.stop(d)});window.addEventListener("load",function(){c=ProfilerPro.stop(c);ProfilerPro.send()},false)}};