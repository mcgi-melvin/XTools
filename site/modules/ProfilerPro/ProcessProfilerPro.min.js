jQuery(document).ready(function(e){var m=e("#ProcessProfilerPro");var b=null;var n=null;var k="";var l=false;var a=true;var i=false;var d=[];if(!m.length){return}function f(){e(".pwpp-graph-pie").peity("pie");e(".pwpp-graph-donut").peity("donut")}function h(o){if(typeof o==="undefined"){o=false}if(!o&&(l||!a)){return}if(l){i=true}l=true;e("button.submit_refresh").click()}function j(){d=[];e(".pwpp-event-id").each(function(){d.push(e(this).text())})}function c(){var o=e("#wrap_pwpp-filter");if(o.hasClass("pwpp-open")){o.find(":input").val("");o.removeClass("pwpp-open").hide()}}function g(){e(".pwpp-event-id").each(function(){var p=e(this).text();if(e.inArray(p,d)==-1){d.push(p);var r=e(this).closest("td");var q=r.find("a");var o=q.length?q.html():r.html();r.html("<strong>"+o+"</strong>");r.parent("tr").effect("highlight",2000)}})}e("#Inputfield_submit_refresh").click(function(q){var s=e(".InputfieldMarkup:visible");var p=s.find(".pwpp-sort-active").attr("data-sort");var t="sort="+p;var r=parseInt(s.find(".pwpp-pageNum").val());var o=e("#pwpp-filter").val();if(r>1){t+="&page="+r}if(o.length){t+="&name="+encodeURIComponent(o)}s.trigger("reload",[{queryString:t}]);e("#head_button").find(".fa-refresh").removeClass("fa-refresh").addClass("fa-spin fa-spinner");return false}).find(".fa-refresh").addClass("fa-fw");e(document).on("reloaded",".InputfieldMarkup",function(){if(i){i=false;return}e("#head_button").find(".fa-spinner").removeClass("fa-spin fa-spinner").addClass("fa-refresh");setTimeout(function(){l=false},500);if(e(this).is(":visible")){f();g()}}).on("click",".MarkupPagerNav > li > a",function(q){var t=e(this);var s=e(".InputfieldMarkup:visible");var u=t.attr("href").split("?");var v=u[1];u=u[0].split("/");var r=u.pop().replace("page","");if(!r.length){r=1}var p=s.find(".pwpp-sort-active").attr("data-sort");var o=e("#pwpp-filter").val();v+="&page="+r+"&sort="+p;if(o.length){v+="&name="+encodeURIComponent(o)}s.trigger("reload",[{queryString:v}]);return false}).on("click",".pwpp-sort",function(p){e(".pwpp-sort-active").removeClass("pwpp-sort-active");e(this).addClass("pwpp-sort-active").find(".pwpp-sort-icon").attr("class","fa fa-fw fa-spin fa-spinner");var o=e(this).attr("data-sort");o=o.indexOf("-")===0?o.substring(1):"-"+o;e(this).attr("data-sort",o);h(true)}).on("wiretabclick",function(q,p,o){if(p.attr("id")==o.attr("id")){return}c();e("body").removeClass("pwpp-tab-"+o.attr("id")).addClass("pwpp-tab-"+p.attr("id"));if(p.attr("id")=="ProfilerConfig"){a=false}else{a=true;j();setTimeout(function(){h()},50)}});e(".pwpp-filter-toggle").on("click",function(){var o=e("#wrap_pwpp-filter");if(o.hasClass("pwpp-open")){c();h()}else{o.slideDown("fast",function(){o.addClass("pwpp-open");o.find(":input").focus()})}return false});e("#pwpp-filter").on("keydown",function(p){if(n){clearTimeout(n)}if(p.keyCode==13){p.preventDefault();h();return false}var o=e(this);n=setTimeout(function(){var q=o.val();if(!q.length||q==k){return}k=q;h()},1000)});m.WireTabs({items:e(".Inputfields li.WireTab"),rememberTabs:true});if(m.hasClass("pwpp-active")){b=setInterval(function(){h()},parseInt(m.attr("data-pwpp-refresh")))}m.show();f();j()});